\subsection{Closed Form Solutions}
Theorem \ref{thm:main} implies that optimal contracts have simple functional forms in parametric settings. Here, we describe the solutions for common parameterizations and note their properties.

Optimal contracts depend on effort cost, risk preferences (which determine the link function $g$), and the distribution of output (which determines the score $S$). Tables \ref{tab:utility_functions} and \ref{tab:dists} provide basic formulae for the link and score functions that make up optimal contracts $g(\mu + \lambda S(y | a_0))$.

\input{tables/utility_functions} 

\input{tables/distributions}

\subsection{Linearity and Option Contracts}
Linear contracts play a prominent role in contract theory. It has long been noted that linear contracts are common, but that they only arise under relatively special assumptions \citep{holmstrom1987aggregation,carroll2015robustness}.

Our model yields piecewise linear contracts in a number of examples, as seen in the tables and in the Gaussian-log utility example. The key ingredients are log utility, which makes the wage function linear in the score, and a linear score function. This includes many distributions, because the score is linear for distributions in an exponential family with linear sufficient statistics. That is, when $f(y, a)$ is of the form
\begin{equation}
\label{eq:linear-exponential-family}
f(y | a)
=
\exp\left(\eta (a) y + A(a)\right)
\text{.}    
\end{equation}

We note this as follows:

\begin{remark}[Piecewise Linear Option Contracts]
    Assume that utility is log (as in $u(x) = \log(w_0 + x)$) and that the distribution of outcomes is in an exponential family with a linear sufficient statistic (as in equation \ref{eq:linear-exponential-family}). Then the canonical contract wage function is piecewise linear. This includes the Gaussian, exponential, Poisson, and gamma distributions.
\end{remark}

Our piecewise linear contracts are option contracts. The value is constant for low outcomes and increases linearly past a ``strike price.'' Such contracts, with a fixed payment plus options, are widely used. Our results generalize the existing literature, where \cite{chaigneau2022should} showed that this option contract is optimal with a Gaussian distribution, and \cite{holmstrom1978incentives} showed this assuming the first-order approach.

\subsection{Concave and Convex Contracts} The optimal contract is never globally concave because the limited liability constraint requires that $w(y) = 0$ for all $y$ less than some threshold, $\ubar y$. The region where the limited liability constraint does not bind, however, can be convex or concave depending on the agent's risk aversion.

\begin{remark}
    \label{rem:convexandconcave}
    Suppose the score function is linear, and let $\mu S(y | a_0) = k y$. Then, if the agent has CRRA utility, the increasing region of a canonical contract is convex if the risk aversion parameter $\gamma > 1$ and concave if $\gamma < 1$: \footnote{Assumption \ref{assump:concavity_inverse_marginal_utility} requires that $\gamma > \frac{1}{2}$.}  
    $$ w(y) = \left( \lambda + k y \right)^{\frac{1}{\gamma}} \text{ for } y > \ubar y. $$  

    If the agent has CARA utility, the increasing region of a canonical contract is logarithmic:
    $$ w(y) =  \frac{\log( \lambda + k y )}{\alpha} - w_0 \text{ for } y > \ubar y .$$
\end{remark}

The remark shows that the shape of the optimal contract depends on the agent's utility function. Interestingly, the first-order approach is valid even in settings with convex contracts, like stock option compensation. This assuages the concerns raised by \cite{conlon2009two}. He makes the insightful point that, apparently, the first-order approach should fail in the practically important case of convex contracts, ruling out common contracts like options. \cite{conlon2009two}'s point was based on the Jewitt conditions, which do require this.

However, in the high reservation utility case, we see that many common convex contracts still work with the first-order approach. The optimal contract with CRRA utility and $\gamma < 1$ closely approximates a CEO compensation package of stock options with many strike prices. To see this, consider a CEO who receives $n_{i}$ options with strike price $s_i$ that expire at the end of the year. The CEO's wage is 
$$ w(y) = \sum_i n_{i} (y - \text{strike}_i)^+, $$
where $y$ is the stock's end-of-year price. 
The wage function's slope at $y$ is $\sum_{\text{strike}_i < y} n_{i}$; the wage is a piecewise-linear function where the slope increases as $y$ increases. The options package wage may be a discretization of the contract the model predicts for an agent with CRRA utility with $\gamma < 1$, and a linear score function.

Remark \ref{rem:convexandconcave} affirms \citeauthor{holmstrom1987aggregation}'s (\citeyear{holmstrom1987aggregation}) view that the principal-agent model does not robustly predict linear wages. The optimal wage is only (piecewise) linear if the agent's risk aversion parameter is precisely $\gamma=1$. However, if the agent's risk aversion is approximately one, the optimal contract will be approximately linear in certain cases.

\subsection{Limitations and numerical methods.}
The formulae have two main limitations. First, there is no general closed form solution for the Lagrange multipliers $\lambda$ and $\mu$. Thus, Theorem \ref{thm:main} guarantees that optimal contracts have the described functional form, but the Lagrange multipliers have to be calculated numerically. Second, as noted in Theorem \ref{thm:main}, these simple formulae do not hold for sufficiently low reservation utility.

To address these limitations, we provide accompanying code at \url{https://github.com/eduardomazevedo/azevedo-wolff-replication} to numerically solve for optimal contracts. The numerical methods solve both the relaxed problem and the full cost minimization problem, in the case where only a finite number of global constraints bind. This is the case in all the experiments that we conducted. Both are convex optimization problems and can be solved at trivial computational cost in all our experiments. The code implements all the specifications in tables \ref{tab:utility_functions} and \ref{tab:dists}.

\subsection{Discussion of the Assumptions}
The monotone likelihood ratio property is a critical assumption. Namely, we assume that the score is strictly increasing in $y$. Examples show that this is critical for Theorem \ref{thm:main}. An illustrative example is the fat-tailed Student-$t$ distribution. As shown in table \ref{tab:dists}, the score is not monotone in $y$. Close to the mean, the score is increasing, as higher $y$ is statistical evidence of higher effort. However, once we go out into the tails, an outlier positive or negative $y$ is interpreted as a large shock, and the score is close to zero. Computational examples show that there are cases where the first-order approach is not valid, regardless of the reservation utility.

We make two other assumptions that are quite restrictive, but much less critical. We assume that utility is unbounded ($u(\infty) = \infty$), and that the support of the distribution of output is the real line. Readers may have noted that many of our computational examples violate these two assumptions, but that the first-order approach holds regardless. Indeed, these assumptions are used in very specific places in the proofs, so that the argument works as long as examples are close enough to the assumptions.

The assumption of unbounded $u$ is used in two places. The first place is that it is needed to guarantee that there exists a solution to the cost minimization problem. Otherwise, there are cases like $\bar U > u(\infty) - c(0)$, where no contract satisfies the constraints of the relaxed cost minimization problem. This complicates the statements of the theorems (because we have to deal with the trivial infeasible case), while not adding any substantive content to the results.

The second place is showing that the probability that the agent is paid zero converges to zero as we increase reservation utility (lemma \ref{lem:threshold-outcome}). The fact that the probability converges to zero, and not just some very low positive probability, uses $u(\infty) = \infty$. Thus, one can likely fabricate counterexamples to Theorem \ref{thm:main} by violating this assumption. In practice, however, utility functions like CARA have enough upside to render this limiting probability negligible, so that the first-order approach is often valid.

The assumption of unbounded support is used in only one place. We need it to show that the largest outcome where the agent is paid zero converges to negative infinity. This is referred to as $\ubar y$ in the appendix. $\ubar y$ converging to negative infinity is crucial in the proof of concavity in lemma \ref{lem:inf_lambda_second_deriv}. Thus, one can likely fabricate counterexamples using distributions with a bounded support. In practice, however, real examples like the exponential distributions have lower bounds that are far away, so that the first-order approach holds anyway, following the same logic as in the proof of lemma \ref{lem:inf_lambda_second_deriv}, but with $\ubar y$ far enough towards $-\infty$ even if it does not converge to $-\infty$.